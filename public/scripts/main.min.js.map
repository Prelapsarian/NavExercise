{"version":3,"sources":["main-ES2015.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\n(() => {\n\t// Variables\n\tconst BP_VIEWPORT_MOBILE = 820;\n\tconst NAV_JSON = './api/nav.json';\n\tlet navigationSection = document.querySelector('.js-nav-linkbar');\n\n\t// Class\n\tclass NavigationMenu {\n\t\t// Constructor\n\t\tconstructor(url, id) {\n\t\t\tthis.url = url;\n\t\t\tthis.id = id;\n\t\t}\n\n\t\t// Methods to create nodes\n\t\tcreateNode(el) {\n\t\t\treturn document.createElement(el);\n\t\t}\n\t\tcreateTextNode(label) {\n\t\t\treturn document.createTextNode(label);\n\t\t}\n\t\tappendNode(parent, el) {\n\t\t\treturn parent.appendChild(el);\n\t\t}\n\n\t\t// Methods to remove open classes\n\t\tremoveActiveClass() {\n\t\t\tlet children = this.id.childNodes;\n\t\t\t\n\t\t\tchildren.forEach(function(item) {\n\t\t\t\titem.classList.remove('nav__list-item--active');\n\t\t\t});\n\t\t}\n\t\tremoveAllOpenClasses() {\n\t\t\tthis.removeActiveClass();\n\n\t\t\tdocument.querySelector('.js-body-mask').classList.remove('body__mask--fade');\n\t\t\tdocument.querySelector('.js-nav-copyright').classList.remove('slide-left');\n\t\t\tdocument.querySelector('.js-nav-linkbar').classList.remove('nav__linkbar--opened');\n\t\t\tdocument.querySelector('.js-nav-hamburger').classList.remove('nav__hamburger--opened');\n\t\t\tdocument.querySelector('.js-nav-logo').classList.remove('slide-left');\n\t\t\tdocument.querySelector('.js-body-container').classList.remove('h-overflow-hidden');\n\t\t}\n\n\t\t// Use Fetch API to get JSON via promise and builds primary/secondary navigation\n\t\tinit() {\n\t\t\tfetch(this.url)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tlet itemObject = data.items;\n\n\t\t\t\t\t/* Populate nodes */\n\t\t\t\t\treturn itemObject.map(itemObject => {\n\t\t\t\t\t\tlet li = this.createNode('li'),\n\t\t\t\t\t\t\ta = this.createNode('a'),\n\t\t\t\t\t\t\tspan = this.createNode('span'),\n\t\t\t\t\t\t\tinnerHTML = this.createTextNode(itemObject.label);\n\n\t\t\t\t\t\tthis.appendNode(this.id, li).setAttribute('class', 'nav__list-item');\n\n\t\t\t\t\t\tif (itemObject.items.length === 0) {\n\t\t\t\t\t\t\ta.setAttribute('href', itemObject.url);\n\t\t\t\t\t\t\tthis.appendNode(li, a).setAttribute('class', 'nav__list-link');\n\t\t\t\t\t\t\tthis.appendNode(a, innerHTML);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.appendNode(li, span).setAttribute('class', 'nav__list-label nav__chevron-arrow');\n\t\t\t\t\t\t\tthis.appendNode(span, innerHTML);\n\n\t\t\t\t\t\t\tlet subItemObject = itemObject.items;\n\t\t\t\t\t\t\tlet ol = this.createNode('ol');\n\t\t\t\t\t\t\tol.setAttribute('class', 'nav__sub-menu');\n\t\t\t\t\t\t\tthis.appendNode(li, ol);\n\n\t\t\t\t\t\t\tlet buildSubOL = (secondary, ol) => {\n\t\t\t\t\t\t\t\t/* Populate secondary navigation */\n\t\t\t\t\t\t\t\treturn secondary.map(secondary => {\n\t\t\t\t\t\t\t\t\tlet li = this.createNode('li'),\n\t\t\t\t\t\t\t\t\t\ta = this.createNode('a'),\n\t\t\t\t\t\t\t\t\t\tspan = this.createNode('span'),\n\t\t\t\t\t\t\t\t\t\tinnerHTML = this.createTextNode(secondary.label);\n\n\t\t\t\t\t\t\t\t\tthis.appendNode(ol, li).setAttribute('class', 'nav__sublist-item');\n\t\t\t\t\t\t\t\t\ta.setAttribute('href', secondary.url);\n\t\t\t\t\t\t\t\t\tthis.appendNode(li, a).setAttribute('class', 'nav__sublist-link');\n\t\t\t\t\t\t\t\t\tthis.appendNode(a, innerHTML);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tbuildSubOL(subItemObject, ol);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});  \n\t\t}\n\n\t\tlistenForEvents() {\n\t\t\t// Event listeners\n\t\t\twindow.addEventListener('resize', () => {\n\t\t\t\tif (window.innerWidth < BP_VIEWPORT_MOBILE) {\n\t\t\t\t\tthis.removeAllOpenClasses();\n\t\t\t\t} else {\n\t\t\t\t\tdocument.querySelector('.js-nav-linkbar').classList.remove('h-mobile-only');\n\t\t\t\t\tdocument.querySelector('.js-nav-linkbar').classList.add('h-desktop-only');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdocument.querySelector('.js-body-mask').addEventListener('click', () => {\n\t\t\t\tthis.removeAllOpenClasses();\n\t\t\t});\n\n\t\t\tdocument.querySelector('.js-nav-hamburger').addEventListener('click', () => {\n\t\t\t\tif (document.querySelector('.js-nav-hamburger').classList.contains('nav__hamburger--opened')) {\n\t\t\t\t\tthis.removeAllOpenClasses();\n\t\t\t\t} else {\n\t\t\t\t\tdocument.querySelector('.js-body-container').classList.add('h-overflow-hidden');\n\t\t\t\t\tdocument.querySelector('.js-nav-logo').classList.add('slide-left');\n\t\t\t\t\tdocument.querySelector('.js-nav-hamburger').classList.add('nav__hamburger--opened');\n\t\t\t\t\tdocument.querySelector('.js-nav-copyright').classList.add('slide-left');\n\t\t\t\t\tdocument.querySelector('.js-nav-linkbar').classList.remove('h-desktop-only');\n\t\t\t\t\tdocument.querySelector('.js-nav-linkbar').classList.add('nav__linkbar--opened');\n\t\t\t\t\tdocument.querySelector('.js-nav-linkbar').classList.add('h-mobile-only');\n\t\t\t\t\tdocument.querySelector('.js-body-mask').classList.add('body__mask--fade');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.id.addEventListener('click', e => {\n\t\t\t\tlet parentLI = e.target.parentElement;\n\n\t\t\t\tif (parentLI.classList.contains('nav__list-item--active')) {\n\t\t\t\t\tthis.removeActiveClass();\n\t\t\t\t} else {\n\t\t\t\t\tthis.removeActiveClass();\n\t\t\t\t\tif (parentLI.childElementCount > 1) {\n\t\t\t\t\t\tdocument.querySelector('.js-body-mask').classList.add('body__mask--fade');\n\n\t\t\t\t\t\tparentLI.classList.add('nav__list-item--active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.removeAllOpenClasses();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Initiate navigation build\n\tlet navigation = new NavigationMenu(NAV_JSON, navigationSection);\n\tnavigation.init();\n\tnavigation.listenForEvents();\n})();"]}