'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){var a=document.querySelector('.js-nav-linkbar'),b=function(){function a(b,c){_classCallCheck(this,a),this.url=b,this.id=c}return _createClass(a,[{key:'createNode',value:function createNode(a){return document.createElement(a)}},{key:'createTextNode',value:function createTextNode(a){return document.createTextNode(a)}},{key:'appendNode',value:function appendNode(a,b){return a.appendChild(b)}},{key:'removeActiveClass',value:function removeActiveClass(){var a=this.id.childNodes;a.forEach(function(a){a.classList.remove('nav__list-item--active')})}},{key:'removeAllOpenClasses',value:function removeAllOpenClasses(){this.removeActiveClass(),document.querySelector('.js-body-mask').classList.remove('body__mask--fade'),document.querySelector('.js-nav-copyright').classList.remove('slide-left'),document.querySelector('.js-nav-linkbar').classList.remove('nav__linkbar--opened'),document.querySelector('.js-nav-hamburger').classList.remove('nav__hamburger--opened'),document.querySelector('.js-nav-logo').classList.remove('slide-left'),document.querySelector('.js-body-container').classList.remove('h-overflow-hidden')}},{key:'init',value:function init(){var b=this;fetch(this.url).then(function(a){return a.json()}).then(function(a){var c=a.items;return c.map(function(c){var d=b.createNode('li'),e=b.createNode('a'),a=b.createNode('span'),f=b.createTextNode(c.label);if(b.appendNode(b.id,d).setAttribute('class','nav__list-item'),0===c.items.length)e.setAttribute('href',c.url),b.appendNode(d,e).setAttribute('class','nav__list-link'),b.appendNode(e,f);else{b.appendNode(d,a).setAttribute('class','nav__list-label nav__chevron-arrow'),b.appendNode(a,f);var g=c.items,h=b.createNode('ol');h.setAttribute('class','nav__sub-menu'),b.appendNode(d,h);(function buildSubOL(a,c){return a.map(function(d){var e=b.createNode('li'),f=b.createNode('a'),a=b.createNode('span'),g=b.createTextNode(d.label);b.appendNode(c,e).setAttribute('class','nav__sublist-item'),f.setAttribute('href',d.url),b.appendNode(e,f).setAttribute('class','nav__sublist-link'),b.appendNode(f,g)})})(g,h)}})}).catch(function(a){console.log(a)})}},{key:'listenForEvents',value:function listenForEvents(){var a=this;window.addEventListener('resize',function(){window.innerWidth<820?a.removeAllOpenClasses():(document.querySelector('.js-nav-linkbar').classList.remove('h-mobile-only'),document.querySelector('.js-nav-linkbar').classList.add('h-desktop-only'))}),document.querySelector('.js-body-mask').addEventListener('click',function(){a.removeAllOpenClasses()}),document.querySelector('.js-nav-hamburger').addEventListener('click',function(){document.querySelector('.js-nav-hamburger').classList.contains('nav__hamburger--opened')?a.removeAllOpenClasses():(document.querySelector('.js-body-container').classList.add('h-overflow-hidden'),document.querySelector('.js-nav-logo').classList.add('slide-left'),document.querySelector('.js-nav-hamburger').classList.add('nav__hamburger--opened'),document.querySelector('.js-nav-copyright').classList.add('slide-left'),document.querySelector('.js-nav-linkbar').classList.remove('h-desktop-only'),document.querySelector('.js-nav-linkbar').classList.add('nav__linkbar--opened'),document.querySelector('.js-nav-linkbar').classList.add('h-mobile-only'),document.querySelector('.js-body-mask').classList.add('body__mask--fade'))}),this.id.addEventListener('click',function(b){var c=b.target.parentElement;c.classList.contains('nav__list-item--active')?a.removeActiveClass():(a.removeActiveClass(),1<c.childElementCount?(document.querySelector('.js-body-mask').classList.add('body__mask--fade'),c.classList.add('nav__list-item--active')):a.removeAllOpenClasses())})}}]),a}(),c=new b('./api/nav.json',a);c.init(),c.listenForEvents()})();

//# sourceMappingURL=main.min.js.map